get:
  tags:
    - "Time registration"
  operationId: "getTimeRegistrationsByActiveTaskForUser"
  description: "Returns time registrations for a user grouped by task"
  parameters:
    - name: "date"
      description: "The date to consider when fetching active tasks and registrations"
      in: query
      required: true
      schema:
        type: string
    - name: "duration"
      description: "The duration type to use when deciding which time period tasks are considered active"
      in: query
      required: false
      schema:
        type: string
        enum:
          - day # Only get tasks for the specified date
          - week # Get the tasks for the whole week (mon-sun) of the specified date
          - month # Get the tasks for the whole month of the specified date
          # TODO: Figure out how to nicely display the three comments above as documentation
  responses:
    "200":
      description: "List of time registrations for the user"
      content:
        application/json:
          schema:
            $ref: "./schemas/GetTimeRegistrationsByTaskRequest.yaml"
    "401":
      $ref: "./responses/UnauthorizedError.yaml"